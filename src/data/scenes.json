[
  {
    "id": "backyard",
    "name": "Backyard",
    "description": "You're in the backyard.  There's a swing set on one end of the yard, and a small shed on another side.",
    "actions": [
      {
        "text": "Go back in the house",
        "scene": "dining_room"
      },
      {
        "text": "Go to the driveway",
        "scene": "driveway"
      },
      {
        "text": "Go in the shed",
        "scene": "shed"
      }
    ]
  },
  {
    "id": "basement",
    "name": "Basement",
    "description": "YOU WIN!"
  },
  {
    "id": "basement_stairs",
    "name": "Basement",
    "description": "You open the door to the basement.  There are thick vines here blocking your way!",
    "actions": [
      {
        "text": "Back",
        "scene": "kitchen"
      }
    ],
    "conditions": [
      {
        "requires": {
          "items": ["axe"]
        },
        "actions": [
          {
            "text": "Cut them with your axe",
            "type": "action",
            "scene": "basement"
          }
        ]
      }
    ]
  },
  {
    "id": "den",
    "name": "Den",
    "description": "You're in the den.  There's a long desk here with two desktop computers on it.  You can go into the dining room, the living room, or the family room.",
    "actions": [
      {
        "text": "Go to the dining room",
        "scene": "dining_room"
      },
      {
        "text": "Go to the living room",
        "scene": "living_room"
      },
      {
        "text": "Go to the family room",
        "scene": "family_room"
      }
    ]
  },
  {
    "id": "dining_room",
    "name": "Dining Room",
    "description": "You're in the dining room.  It has red wallpaper and a large dining table in the middle of the room.  There is a large window through which you can see the backyard.  There's a door that leads to the backyard.  You can also go to the den, the kitchen, or the main hall",
    "actions": [
      {
        "text": "Go to the main hall",
        "scene": "main_hall"
      },
      {
        "text": "Go to the kitchen",
        "scene": "kitchen"
      },
      {
        "text": "Go to the den",
        "scene": "den"
      },
      {
        "text": "Go outside",
        "scene": "backyard"
      }
    ]
  },
  {
    "id": "downstairs_bathroom",
    "name": "Downstairs Bathroom",
    "description": "You're in the downstairs bathroom.  There's a toilet and a sink here.",
    "actions": [
      {
        "text": "Exit",
        "scene": "front_hall"
      }
    ]
  },
  {
    "id": "driveway",
    "name": "Driveway",
    "description": "You're in the driveway.  There's a garage here with two cars outside it.  You can go to the backyard or into the kitchen through the back door.",
    "actions": [
      {
        "text": "Walk around to the front of the house",
        "scene": "outside_front_door"
      },
      {
        "text": "Go to the kitchen",
        "scene": "kitchen"
      },
      {
        "text": "Go in the garage",
        "scene": "garage"
      },
      {
        "text": "Go to the backyard",
        "scene": "backyard"
      }
    ]
  },
  {
    "id": "family_room",
    "name": "Family Room",
    "description": "You're in the family room.  There's a large TV here, and a couch and a recliner in front of it.  There are several game consoles and controllers on the floor.  There's a cabinet next to the TV containing a DVD player and various videos.",
    "actions": [
      {
        "text": "Go to the den",
        "scene": "den"
      }
    ]
  },
  {
    "id": "front_hall",
    "name": "Front Hall",
    "description": "You're in the front hall.  The front door of the house is here.  The entrance to the downstairs bathroom is to the right of the door.  You can also go further inside to the main hall.",
    "actions": [
      {
        "text": "Go outside",
        "scene": "outside_front_door"
      },
      {
        "text": "Go into the bathroom",
        "scene": "downstairs_bathroom"
      },
      {
        "text": "Go to the main hall",
        "scene": "main_hall"
      }
    ]
  },
  {
    "id": "garage",
    "name": "Garage",
    "description": "You're in the garage.  There's a snowblower here, along with several trash cans and various other junk.  It's big enough for two cars, but there's currently only enough free space for one.",
    "actions": [
      {
        "text": "Go outside",
        "scene": "driveway"
      }
    ]
  },
  {
    "id": "intro_1",
    "name": "",
    "description": "You are standing in front of a big Victorian style house. This is the address your friend [Warren West](warren-west) gave you.\n\nWarren is the most brilliant computer programmer you have ever met. You have known each other since college, and together you are the co-founders of [Bionic Bridge Studios](bionic-bridge), a small independent game development company.\n\nTwo years ago you had a minor hit with a game called [Dungeon of Duzh](dungeon-of-duzh). You were both convinced that with a successful follow-up you would be able to quit your day jobs at [Travel Tips Inc.](travel-tips)\n\nThe early designs for the [next game](new-game) seemed promising, but Warren kept insisting on going back to the drawing board. For the last two years he was always on the verge of developing a groundbreaking new engine to generate more complex and immersive worlds than anyone had seen before. Unfortunately, despite putting a massive number of hours into his work, Warren was never satisfied, and progress on the game ground to a halt.",
    "actions": [
      {
        "text": "Continue",
        "scene": "intro_2"
      }
    ]
  },
  {
    "id": "intro_2",
    "name": "",
    "description": "Last month, Warren was laid off. Strangely, just a few days after, Warren told you that he had inherited a house and a substantial sum of money from his [great uncle](henry-west). He moved out of his apartment and into the house, where he poured himself into the latest version of his game engine. Since then, he has communicated with you only occasionally, hinting that the breakthrough he was waiting for was at hand.\n\nAt 3 AM this morning you received a message from him, saying only:\n\n<b>it is done come see.</b>",
    "actions": [
      {
        "text": "Continue",
        "scene": "outside_front_door"
      }
    ]
  },
  {
    "id": "kitchen",
    "name": "Kitchen",
    "description": "You're in the kitchen.  There's a refrigerator, stove, and a counter with a sink here, with shelves and cabinets above them.  There's a dining table on the other side of the room.  You can go out the back door into the driveway, or go to the main hall or the dining room.  You can also enter the basement.",
    "actions": [
      {
        "text": "Go outside",
        "scene": "driveway"
      },
      {
        "text": "Go to the main hall",
        "scene": "main_hall"
      },
      {
        "text": "Go to the dining room",
        "scene": "dining_room"
      },
      {
        "text": "Enter the basement",
        "scene": "basement_stairs"
      }
    ],
    "conditions": [
      {
        "forbids": {
          "items": ["shed_key"]
        },
        "actions": [
          {
            "text": "Check the counter drawer",
            "type": "action",
            "scene": "kitchen_counter_drawer"
          }
        ]
      }
    ]
  },
  {
    "id": "kitchen_counter_drawer",
    "name": "Drawer",
    "actions": [
      {
        "text": "Back",
        "scene": "kitchen"
      }
    ],
    "conditions": [
      {
        "forbids": {
          "items": ["shed_key"]
        },
        "description": "There's a bunch of junk in here.  You notice a key in the drawer.",
        "actions": [
          {
            "text": "Take the key!",
            "type": "item",
            "scene": "kitchen_counter_drawer_key",
            "adds": {
              "items": ["shed_key"]
            }
          }
        ]
      },
      {
        "requires": {
          "items": ["shed_key"]
        },
        "description": "There's nothing in here but junk."
      }
    ]
  },
  {
    "id": "kitchen_counter_drawer_key",
    "name": "Drawer",
    "description": "You take the key and put it in your pocket.",
    "actions": [
      {
        "text": "Back",
        "scene": "kitchen"
      }
    ]
  },
  {
    "id": "living_room",
    "name": "Living Room",
    "description": "You're in the living room.  There is a couch and several chairs here.  There's a stereo system on one wall, with a record player and a shelf containing an extensive record collection.",
    "actions": [
      {
        "text": "Go to the den",
        "scene": "den"
      },
      {
        "text": "Go to the main hall",
        "scene": "main_hall"
      }
    ]
  },
  {
    "id": "main_hall",
    "name": "Main Hall",
    "description": "You're in the main hall.  There are stairs that lead to the second floor, as well as entrances to the dining room, kitchen room, living room, and the front hall.  There's an upright piano, as well as a desk.",
    "actions": [
      {
        "text": "Go to the kitchen",
        "scene": "kitchen"
      },
      {
        "text": "Go to the living room",
        "scene": "living_room"
      },
      {
        "text": "Go to the dining room",
        "scene": "dining_room"
      },
      {
        "text": "Go to the front hall",
        "scene": "front_hall"
      }
    ],
    "conditions": [
      {
        "forbids": {
          "visited": ["piano"]
        },
        "actions": [
          {
            "text": "Play the piano",
            "type": "action",
            "scene": "piano"
          }
        ]
      }
    ]
  },
  {
    "id": "outside_front_door",
    "name": "Outside the House",
    "description": "You are standing outside the front door of the house.",
    "actions": [
      {
        "text": "Go inside",
        "scene": "front_hall"
      },
      {
        "text": "Walk around to the driveway",
        "scene": "driveway"
      }
    ]
  },
  {
    "id": "piano",
    "name": "Piano",
    "description": "You bang around randomly on the piano with both hands.  It sounds awful!",
    "actions": [
      {
        "text": "Back",
        "scene": "main_hall"
      }
    ]
  },
  {
    "id": "shed",
    "name": "Shed",
    "actions": [
      {
        "text": "Go outside",
        "scene": "backyard"
      }
    ],
    "conditions": [
      {
        "forbids": {
          "items": ["shed_key"]
        },
        "description": "It's locked.  Maybe there's a key somewhere..."
      },
      {
        "forbids": {
          "items": ["axe"],
          "visited": ["basement_stairs"]
        },
        "requires": {
          "items": ["shed_key"]
        },
        "description": "You're in the shed.  There's a workbench here with a variety of tools."
      },
      {
        "forbids": {
          "items": ["axe"]
        },
        "requires": {
          "items": ["shed_key"],
          "visited": ["basement_stairs"]
        },
        "description": "You're in the shed.  There's a workbench here with a variety of tools, including an axe.",
        "actions": [
          {
            "text": "Take the axe!",
            "type": "item",
            "scene": "shed",
            "adds": {
              "items": ["axe"]
            }
          }
        ]
      },
      {
        "requires": {
          "items": ["axe", "shed_key"]
        },
        "description": "You're in the shed.  There's a workbench here with a variety of tools."
      }
    ]
  },
  {
    "id": "shed_axe",
    "name": "Shed",
    "description": "You take the axe.  It looks a bit rusty, but fairly sharp.  It feels heavy in your hand.",
    "actions": [
      {
        "text": "Back",
        "scene": "shed"
      }
    ]
  }
]
