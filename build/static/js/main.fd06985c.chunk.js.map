{"version":3,"sources":["Rooms.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["_validateRoom","room","_checkState","Array","isArray","hasOwnProperty","id","name","description","actions","map","action","_validateAction","text","ref","_validateRefIntegrity","rooms","Object","values","forEach","condition","obj","Error","JSON","stringify","roomsById","json","importRooms","App","useState","roomId","setRoomId","className","onClick","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"uNAyBMA,EAAgB,SAACC,GACrBC,EAA4B,kBAATD,IAAsBE,MAAMC,QAAQH,GAAOA,GAC9DC,EAAYD,EAAKI,eAAe,MAAOJ,GACvCC,EAA+B,kBAAZD,EAAKK,GAAiBL,GACzCC,EAAYD,EAAKI,eAAe,QAASJ,GACzCC,EAAiC,kBAAdD,EAAKM,KAAmBN,GACvCA,EAAKI,eAAe,gBACtBH,EAAwC,kBAArBD,EAAKO,YAA0BP,GAEpDC,EAAYD,EAAKI,eAAe,WAAYJ,GAC5CC,EAAYC,MAAMC,QAAQH,EAAKQ,SAAUR,GACzC,IAAMQ,EAAUR,EAAKQ,QAAQC,KAAI,SAACC,GAAD,OAAiBC,EAAgBD,MAElE,OAAO,2BACFV,GADL,IAEEQ,aAIEG,EAAkB,SAACD,GAMvB,OALAT,EAAYS,EAAON,eAAe,QAASM,GAC3CT,EAAmC,kBAAhBS,EAAOE,KAAmBF,GACzCA,EAAON,eAAe,QACxBH,EAAkC,kBAAfS,EAAOG,IAAkBH,GAEvCA,GAGHI,EAAwB,SAACC,GAC7BC,OAAOC,OAAOF,GAAOG,SAAQ,SAAAlB,GAC3BA,EAAKQ,QAAQU,SAAQ,SAAAR,GACfA,EAAOG,KACTZ,EAAiC,MAArBc,EAAML,EAAOG,KAAcH,UAMzCT,EAAc,SAACkB,EAAoBC,GACvC,IAAKD,EACH,MAAM,IAAIE,MAAM,uBAAyBC,KAAKC,UAAUH,K,OC7DtDI,EDU8C,WAClD,IAAMA,EAAsC,GAO5C,OANAC,EAAKP,SAAQ,SAAAE,GACX,IAAMpB,EAAOD,EAAcqB,GACnBf,EAAOL,EAAPK,GACRmB,EAAUnB,GAAML,KAElBc,EAAsBU,GACfA,EClBSE,GAyBHC,EAtBH,WACV,MAA4BC,mBAHL,sBAGvB,mBAAOC,EAAP,KAAeC,EAAf,KACM9B,EAAOwB,EAAUK,GAEvB,OACE,sBAAKE,UAAU,MAAf,UACE,6BAAK/B,EAAKM,OACV,qBAAKyB,UAAU,cAAf,SACG/B,EAAKO,cAEPP,EAAKQ,QAAQC,KAAI,SAAAC,GAAM,OACtB,qBAEEqB,UAAU,SACVC,QAAS,kBAAMtB,EAAOG,KAAOiB,EAAUpB,EAAOG,MAHhD,SAIGH,EAAOE,MAHHF,EAAOG,YCLPoB,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,6BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,OCHdQ,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1Bb,K","file":"static/js/main.fd06985c.chunk.js","sourcesContent":["import json from './rooms.json';\r\n\r\ninterface Room {\r\n  id: string,\r\n  name: string,\r\n  description?: string,\r\n  actions: Action[]\r\n}\r\n\r\ntype Action = {\r\n  ref?: string,\r\n  text: string\r\n}\r\n\r\nconst importRooms: () => { [name: string]: Room } = () => {\r\n  const roomsById: { [name: string]: Room } = {};\r\n  json.forEach(obj => {\r\n    const room = _validateRoom(obj);\r\n    const { id } = room;\r\n    roomsById[id] = room;\r\n  });\r\n  _validateRefIntegrity(roomsById);\r\n  return roomsById;\r\n}\r\n\r\nconst _validateRoom = (room: any): Room => {\r\n  _checkState(typeof room === 'object' && !Array.isArray(room), room);\r\n  _checkState(room.hasOwnProperty('id'), room);\r\n  _checkState(typeof room.id === 'string', room);\r\n  _checkState(room.hasOwnProperty('name'), room);\r\n  _checkState(typeof room.name === 'string', room);\r\n  if (room.hasOwnProperty('description')) {\r\n    _checkState(typeof room.description === 'string', room);\r\n  }\r\n  _checkState(room.hasOwnProperty('actions'), room);\r\n  _checkState(Array.isArray(room.actions), room);\r\n  const actions = room.actions.map((action: any) => _validateAction(action));\r\n\r\n  return {\r\n    ...room,\r\n    actions\r\n  };\r\n};\r\n\r\nconst _validateAction = (action: any): Action => {\r\n  _checkState(action.hasOwnProperty('text'), action);\r\n  _checkState(typeof action.text === 'string', action);\r\n  if (action.hasOwnProperty('ref')) {\r\n    _checkState(typeof action.ref === 'string', action);\r\n  }\r\n  return action as Action;\r\n};\r\n\r\nconst _validateRefIntegrity = (rooms: { [id: string]: Room }) => {\r\n  Object.values(rooms).forEach(room => {\r\n    room.actions.forEach(action => {\r\n      if (action.ref) {\r\n        _checkState(rooms[action.ref] != null, action);\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nconst _checkState = (condition: boolean, obj: any): void => {\r\n  if (!condition) {\r\n    throw new Error(\"Invalid definition: \" + JSON.stringify(obj));\r\n  }\r\n}\r\n\r\nexport { importRooms };\r\nexport type { Room, Action };\r\n","import React, { useState } from 'react';\nimport './App.css';\nimport { importRooms } from './Rooms';\n\nconst roomsById = importRooms();\nconst STARTING_ROOM_ID = 'outside_front_door';\n\nconst App = () => {\n  const [roomId, setRoomId] = useState(STARTING_ROOM_ID);\n  const room = roomsById[roomId];\n\n  return (\n    <div className=\"app\">\n      <h1>{room.name}</h1>\n      <div className=\"description\">\n        {room.description}\n      </div>\n      {room.actions.map(action => (\n        <div\n          key={action.ref}\n          className=\"action\"\n          onClick={() => action.ref && setRoomId(action.ref)}>\n          {action.text}\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}